(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{16:function(e,t,n){e.exports=n(44)},21:function(e,t,n){},23:function(e,t,n){},44:function(e,t,n){"use strict";n.r(t);var a=n(0),o=n.n(a),i=n(10),r=n.n(i),s=(n(21),n(11)),c=n(14),l=n(12),u=n(3),d=n(15),m=(n(23),n(13)),v=n.n(m);var f=function(e){function t(e){var n;return Object(s.a)(this,t),(n=Object(c.a)(this,Object(l.a)(t).call(this,e))).state={venues:[],markers:[],hamburgerActive:!1},n.renderMap=function(){!function(e){try{var t=window.document.getElementsByTagName("script")[0],n=window.document.createElement("script");n.src=e,n.async=!0,n.defer=!0,t.parentNode.insertBefore(n,t)}catch(a){console.log(a),alert("Google Maps API not loading")}}("https://maps.googleapis.com/maps/api/js?key=AIzaSyDBuTMyBD4GlwIC2panKoa31VzgNLFkIU4&callback=initMap"),window.initMap=n.initMap},n.getVenues=function(){v.a.get("https://api.foursquare.com/v2/venues/explore?"+new URLSearchParams({client_id:"LEMQI0VL0ADKRLN23NJV1LJ3JW0JYERQJBOKJ10SLOZAJH42",client_secret:"CM5ERC0CFCTIQPHZLVH4KPRVMKFWZUQNYZ5NT0EWLGC25PE5",query:"burger",limit:20,near:"India",v:"20181311"})).then(function(e){n.setState({venues:e.data.response.groups[0].items},n.renderMap())}).catch(function(e){console.log(e)})},n.initMap=function(){var e=new window.google.maps.Map(document.getElementById("map"),{center:{lat:20.5937,lng:78.9629},zoom:7});n.map=e;var t=new window.google.maps.InfoWindow,a=[];n.setState({map:e,infowindow:t}),n.state.venues.forEach(function(n){var o='<div id="info" tabindex="1">\n        <div><h2>'.concat(n.venue.name,"</h2></div>\n        <div><h3>").concat(n.venue.location.address,"</h3></div>\n        </div>"),i=new window.google.maps.Marker({position:{lat:n.venue.location.lat,lng:n.venue.location.lng},map:e,city:n.venue.location.city,address:n.venue.location.address,venueinfo:n,id:n.venue.id,name:n.venue.name,draggable:!0,animation:window.google.maps.Animation.DROP,title:n.venue.name});i.addListener("click",function(){var n=e.getZoom();t.setContent(o),t.open(e,i),e.setZoom(13),e.setCenter(i.getPosition()),window.setTimeout(function(){e.setZoom(n)},3e3)}),a.push(i)}),n.setState({markers:a}),n.setState({filtermyvenue:n.state.venues})},n.listItemClick=function(e){var t=n.state.markers.filter(function(t){return t.id===e.id})[0];n.state.infowindow.setContent("".concat(t.name+", "+t.city+", "+t.address)),n.map.setCenter(t.position),n.state.infowindow.open(n.state.map,t)},n.onSidebarClick=function(){var e=document.querySelector("#sidebar");n.state.hamburgerActive?(e.style.transform="translateX(-250px)",n.setState({hamburgerActive:!1})):(e.style.transform="translateX(0px)",n.setState({sidebar:!0}),n.setState({hamburgerActive:!0}))},n.state={sidebar:!1,query:""},n}return Object(d.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){window.gm_authFailure=function(){alert("ERROR!! \nFailed to get Google map."),console.log("ERROR!! \nFailed to get Google map.")},this.getVenues()}}]),Object(u.a)(t,[{key:"filtermyvenue",value:function(e){var t=this.state.venues.filter(function(t){return t.venue.name.toLowerCase().includes(e.toLowerCase())});this.state.markers.forEach(function(t){!0===t.name.toLowerCase().includes(e.toLowerCase())?t.setVisible(!0):t.setVisible(!1)}),0===t.length&&this.state.infowindow.close(),this.setState({filtermyvenue:t,query:e})}},{key:"render",value:function(){var e=this;return o.a.createElement("main",{role:"main"},o.a.createElement("div",{className:"header","aria-label":"name"},o.a.createElement("button",{"aria-label":"Hamburger Menu",tabIndex:"0",role:"menu",className:"hamburger-container",onClick:this.onSidebarClick},o.a.createElement("div",{className:"hamburger-bar"}),o.a.createElement("div",{className:"hamburger-bar"}),o.a.createElement("div",{className:"hamburger-bar"})),o.a.createElement("span",{className:"title"},o.a.createElement("strong",null,"Restaurants"))),o.a.createElement("div",{role:"application","aria-label":"map",id:"map"}),o.a.createElement("div",{"aria-label":"sidebar",role:"search menu",id:"sidebar"},o.a.createElement("input",{type:"text",autoFocus:"autofocus",tabIndex:"0",className:"SearchVenues",placeholder:"Search venues",value:this.state.query,onChange:function(t){e.filtermyvenue(t.target.value)}}),o.a.createElement("br",null),o.a.createElement("br",null),this.state.filtermyvenue&&this.state.filtermyvenue.length>0&&this.state.filtermyvenue.map(function(t,n){return o.a.createElement("div",{tabIndex:"-1",key:n,className:"venue-item"},o.a.createElement("ul",null,o.a.createElement("li",{role:"link","aria-label":"search",onClick:function(){e.listItemClick(t.venue)}},t.venue.name)))})))}}]),t}(a.Component),g=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function h(e,t){navigator.serviceWorker.register(e).then(function(e){e.onupdatefound=function(){var n=e.installing;null!=n&&(n.onstatechange=function(){"installed"===n.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See http://bit.ly/CRA-PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}}).catch(function(e){console.error("Error during service worker registration:",e)})}r.a.render(o.a.createElement(f,null),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("/Neighborhood-Map",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",function(){var t="".concat("/Neighborhood-Map","/service-worker.js");g?(function(e,t){fetch(e).then(function(n){var a=n.headers.get("content-type");404===n.status||null!=a&&-1===a.indexOf("javascript")?navigator.serviceWorker.ready.then(function(e){e.unregister().then(function(){window.location.reload()})}):h(e,t)}).catch(function(){console.log("No internet connection found. App is running in offline mode.")})}(t,e),navigator.serviceWorker.ready.then(function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit http://bit.ly/CRA-PWA")})):h(t,e)})}}()}},[[16,2,1]]]);
//# sourceMappingURL=main.039f1725.chunk.js.map